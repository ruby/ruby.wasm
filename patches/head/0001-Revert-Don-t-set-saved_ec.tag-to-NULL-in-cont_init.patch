From 3d186e7edd50ad4e8037f3cd017a19532a5f9a58 Mon Sep 17 00:00:00 2001
From: Yuta Saito <kateinoigakukun@gmail.com>
Date: Tue, 1 Apr 2025 05:48:13 +0000
Subject: [PATCH 1/3] Revert "Don't set `saved_ec.tag` to `NULL` in
 `cont_init()`"

This reverts commit 372515f33c908b36b3f5fbd2edcb34c69b418500.
---
 cont.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/cont.c b/cont.c
index 072ae4562f..ae68da4e83 100644
--- a/cont.c
+++ b/cont.c
@@ -1369,6 +1369,7 @@ cont_init(rb_context_t *cont, rb_thread_t *th)
     /* save thread context */
     cont_save_thread(cont, th);
     cont->saved_ec.thread_ptr = th;
+    cont->saved_ec.tag = NULL;
     cont->saved_ec.local_storage = NULL;
     cont->saved_ec.local_storage_recursive_hash = Qnil;
     cont->saved_ec.local_storage_recursive_hash_for_trace = Qnil;
-- 
2.48.1

